<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>å‘¼å¸è®­ç»ƒæ¸¸æˆ</title>

<style>
body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto;
  background: #0f172a;
  color: #e2e8f0;
  text-align: center;
  padding: 20px;
}

h1 { margin-bottom: 10px; }

.settings {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 10px;
  margin-bottom: 20px;
}

.settings input {
  width: 70px;
  padding: 6px;
  border-radius: 6px;
  border: 1px solid #475569;
  background: #1e293b;
  color: #e2e8f0;
}

button {
  background: #22c55e;
  color: #052e16;
  border: none;
  padding: 10px 16px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 16px;
  margin-top: 10px;
}

.circle {
  width: 160px;
  height: 160px;
  margin: 30px auto;
  border-radius: 50%;
  background: radial-gradient(circle, #22c55e, #14532d);
  transition: transform 1s linear;
}

#guideText {
  font-size: 24px;
  margin-top: 10px;
  min-height: 30px;
}

.progressBar {
  width: 80%;
  height: 10px;
  background: #334155;
  border-radius: 5px;
  margin: 15px auto;
  overflow: hidden;
}
.progressBarFill {
  height: 100%;
  width: 0%;
  background: #22c55e;
  transition: width 0.1s linear;
}

.breathing-info {
  margin-top: 20px;
  padding: 16px;
  background: #1e293b;
  border-radius: 10px;
  color: #e2e8f0;
  line-height: 1.6;
}
.breathing-info h2 {
  margin-bottom: 10px;
}

.breathing-info {
  margin-top: 20px;
  padding: 12px;
  background: #1e293b;
  border-radius: 10px;
  color: #e2e8f0;
}

.breathing-info summary {
  outline: none;
}

.breathing-info .content {
  margin-top: 10px;
  line-height: 1.6;
}

</style>
</head>

<body>

<h1>ğŸŒ¿ å‘¼å¸è®­ç»ƒå°æ¸¸æˆ</h1>
<p>è¾“å…¥ä½ çš„ 4-2-6-2ï¼ˆå¸æ°”-æ†‹æ°”-å‘¼æ°”-æ†‹æ°”ï¼‰æ—¶é—´ï¼Œå¼€å§‹è®­ç»ƒï¼š</p>

<div class="settings">
  å¸æ°” <input id="inhale" type="number" value="4">
  æ†‹æ°”1 <input id="hold1" type="number" value="2">
  å‘¼æ°” <input id="exhale" type="number" value="6">
  æ†‹æ°”2 <input id="hold2" type="number" value="2">
</div>

<button id="startBtn">å¼€å§‹è®­ç»ƒ</button>

<div class="circle" id="circle"></div>


<div id="guideText"></div>

<div class="progressBar">
  <div class="progressBarFill" id="progressFill"></div>
</div>


<!--<div class="breathing-info">
  <h2>ğŸŒ¿ å‘¼å¸è®­ç»ƒçš„åŸç†</h2>
  <p><strong>å»¶é•¿å‘¼æ°”èƒ½å¿«é€Ÿè®©èº«ä½“è¿›å…¥æ”¾æ¾æ¨¡å¼ã€‚</strong> å‘¼æ°”æ—¶å‰¯äº¤æ„Ÿç¥ç»å ä¸»å¯¼ï¼Œä¼šé™ä½å¿ƒç‡ã€è¡€å‹å’Œç´§å¼ æ„Ÿï¼Œå› æ­¤åƒ 4-2-6-2 è¿™æ ·çš„èŠ‚å¥å°¤å…¶æœ‰æ•ˆã€‚</p>

  <p><strong>ä¸ºä»€ä¹ˆè¦æ†‹æ°”ï¼Ÿ</strong></p>
  <ul style="text-align:left; max-width:720px; margin:0 auto;">
    <li><strong>å¸æ°”åçš„å±æ¯</strong>å¯ä»¥è®©èº«ä½“æ›´å¿«è½¬å…¥å‘¼æ°”é˜¶æ®µï¼Œå¢å¼ºæ”¾æ¾æ•ˆæœã€‚</li>
    <li><strong>å‘¼æ°”åçš„å±æ¯</strong>èƒ½è¿›ä¸€æ­¥ç¨³å®šçŠ¶æ€ï¼Œè®©å‰¯äº¤æ„Ÿç¥ç»ç»´æŒæ›´ä¹…ã€‚</li>
  </ul>

  <p><strong>å‘¼å¸å¦‚ä½•å½±å“èº«ä½“ï¼Ÿ</strong> æ·±å‘¼å¸èƒ½è®©ç¥ç»ç³»ç»Ÿä»â€œç´§å¼ åº”æ¿€â€è½¬å‘â€œæ¢å¤ä¿®å¤â€ï¼Œå¢å¼ºè¿·èµ°ç¥ç»æ´»åŠ¨ï¼Œè®©å¿ƒç‡æ›´å¹³ç¨³ï¼Œä½¿ä½ åœ¨å‹åŠ›ä¸­ä¹Ÿèƒ½ä¿æŒå†·é™ã€‚</p>

  <p><em>æ¯ä¸€æ¬¡å»¶é•¿å‘¼æ°”ï¼Œéƒ½åœ¨è®©ä½ çš„èº«ä½“å˜å¾—æ›´å¹³é™ï¼›æ¯ä¸€æ¬¡å±æ¯ï¼Œéƒ½åœ¨å¸®åŠ©ä½ é‡æ–°æŒæ§ç”Ÿæ´»çš„èŠ‚å¥ã€‚</em></p>
</div>-->

<details class="breathing-info">
  <summary style="font-size:18px; cursor:pointer;">
    ğŸŒ¿ ç‚¹å‡»å±•å¼€ / éšè—å‘¼å¸è®­ç»ƒåŸç†
  </summary>

  <div class="content">
    <!-- ä½ çš„å‘¼å¸åŸç†æ–‡å­—æ”¾è¿™é‡Œ -->
    <h2>å‘¼å¸è®­ç»ƒçš„åŸç†</h2>
    <p><strong>å»¶é•¿å‘¼æ°”èƒ½å¿«é€Ÿè®©èº«ä½“è¿›å…¥æ”¾æ¾æ¨¡å¼ã€‚</strong> å‘¼æ°”æ—¶å‰¯äº¤æ„Ÿç¥ç»å ä¸»å¯¼ï¼Œå¯é™ä½å¿ƒç‡å’Œç´§å¼ æ„Ÿã€‚</p>

    <p><strong>ä¸ºä»€ä¹ˆè¦æ†‹æ°”ï¼Ÿ</strong></p>
    <ul>
      <li><strong>å¸æ°”åçš„å±æ¯</strong>è®©å‘¼æ°”çš„æ”¾æ¾æ•ˆæœæ›´å¼ºã€‚</li>
      <li><strong>å‘¼æ°”åçš„å±æ¯</strong>è®©å‰¯äº¤æ„Ÿç¥ç»æ›´ç¨³å®šã€‚</li>
    </ul>

    <p><strong>å‘¼å¸å¯¹èº«ä½“çš„å½±å“ï¼š</strong> æ·±å‘¼å¸èƒ½è®©ç¥ç»ç³»ç»Ÿä»â€œç´§å¼ åº”æ¿€â€è½¬å‘â€œæ¢å¤ä¿®å¤â€ã€‚</p>

    <p><em>æ¯ä¸€æ¬¡å»¶é•¿å‘¼æ°”ï¼Œéƒ½åœ¨è®©ä½ çš„èº«ä½“å˜å¾—æ›´å¹³é™ã€‚</em></p>
  </div>
</details>

<script>
const circle = document.getElementById("circle");
const guide = document.getElementById("guideText");
const progressFill = document.getElementById("progressFill");

let running = false;

document.getElementById("startBtn").addEventListener("click", () => {
  if (running) return;
  running = true;
  startBreathingCycle();
});

function startBreathingCycle() {
  const inhale = parseFloat(document.getElementById("inhale").value);
  const hold1 = parseFloat(document.getElementById("hold1").value);
  const exhale = parseFloat(document.getElementById("exhale").value);
  const hold2 = parseFloat(document.getElementById("hold2").value);

  // å‘¼å¸ 4 é˜¶æ®µ
  const steps = [
    { label: "å¸æ°”", time: inhale, scale: 1.3 },
    { label: "æ†‹æ°”", time: hold1, scale: 1.3 },
    { label: "å‘¼æ°”", time: exhale, scale: 0.6 },
    { label: "æ†‹æ°”", time: hold2, scale: 0.6 }
  ];

  let index = 0;

  function runStep() {
    const step = steps[index];
    guide.innerText = step.label;

    // åœ†åœˆåŠ¨ç”»
    circle.style.transition = `transform ${step.time}s linear`;
    circle.style.transform = `scale(${step.scale})`;

    // è¿›åº¦æ¡åŠ¨ç”»
    let elapsed = 0;
    progressFill.style.width = "0%";
    const interval = setInterval(() => {
      elapsed += 0.1;
      progressFill.style.width = `${(elapsed / step.time) * 100}%`;
      if (elapsed >= step.time) {
        clearInterval(interval);
        index = (index + 1) % steps.length;
        runStep();
      }
    }, 100);
  }

  runStep();
}
</script>

</body>
</html>
